<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="refresh" content="60">
    <title>Pool Controller</title>
    <style>
        * {
             box-sizing: border-box;
        }
        h1 {
            text-align: center;
        }
        body {
            font-family: sans-serif;
        }
        table {
            width: 100%;
            border: 1px white;
            border-collapse: collapse;
            font-family: Arial;
            font-size: 20px;
            font-weight: bold;
        }
        tr {
            height: 60px;
        }
        .trThin {
            height: 40px;
        }
        th, td {
            border: none;
            padding: 2px;
            text-align: center;
        }

        /* Create the dropdown style */
        .dropdown-light {
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            border-radius: 10px;
            color: black !important;
            font-family: Arial;
            font-size: 20px;
            font-weight: bold;
            padding: 15px 25px;
        }

        /* Create Button Styles */
        .btn-common {
            -webkit-border-radius: 10px;
            -moz-border-radius: 10px;
            border-radius: 10px;
            display: inline-block;
            border: 0px;
            cursor: pointer;
            color: black !important;
            font-family: Arial;
            font-size: 20px;
            font-weight: bold;
            padding: 15px 25px;
            margin: 4px 2px;
            text-decoration: none;
        }
        .btn-small {
            padding: 4px 2px;
            margin: 0px 2px;
        }
        .btn-blue {
            -moz-box-shadow: 0px 6px 11px -7px #235cd6;
            -webkit-box-shadow: 0px 6px 11px -7px #235cd6;
            box-shadow: 0px 6px 11px -7px #235cd6;
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #277be8), color-stop(1, #528ade));
            background: -moz-linear-gradient(top, #277be8 5%, #528ade 100%);
            background: -webkit-linear-gradient(top, #277be8 5%, #528ade 100%);
            background: -o-linear-gradient(top, #277be8 5%, #528ade 100%);
            background: -ms-linear-gradient(top, #277be8 5%, #528ade 100%);
            background: linear-gradient(to bottom, #277be8 5%, #528ade 100%);
            filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#277be8', endColorstr='#528ade', GradientType=0);
        }
        .btn-red {
            -moz-box-shadow: 0px 6px 11px -7px #d6232c;
            -webkit-box-shadow: 0px 6px 11px -7px #d6232c;
            box-shadow: 0px 6px 11px -7px #d6232c;
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #e82727), color-stop(1, #de5252));
            background: -moz-linear-gradient(top, #e82727 5%, #de5252 100%);
            background: -webkit-linear-gradient(top, #e82727 5%, #de5252 100%);
            background: -o-linear-gradient(top, #e82727 5%, #de5252 100%);
            background: -ms-linear-gradient(top, #e82727 5%, #de5252 100%);
            background: linear-gradient(to bottom, #e82727 5%, #de5252 100%);
            filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#e82727', endColorstr='#de5252', GradientType=0);
        }
        .btn-green {
            -moz-box-shadow: 0px 6px 11px -7px #4a9425;
            -webkit-box-shadow: 0px 6px 11px -7px #4a9425;
            box-shadow: 0px 6px 11px -7px #4a9425;
            background: -webkit-gradient(linear, left top, left bottom, color-stop(0.05, #4ba81c), color-stop(1, #379607));
            background: -moz-linear-gradient(top, #4ba81c 5%, #379607 100%);
            background: -webkit-linear-gradient(top, #4ba81c 5%, #379607 100%);
            background: -o-linear-gradient(top, #4ba81c 5%, #379607 100%);
            background: -ms-linear-gradient(top, #4ba81c 5%, #379607 100%);
            background: linear-gradient(to bottom, #4ba81c 5%, #379607 100%);
            filter: progid: DXImageTransform.Microsoft.gradient(startColorstr='#4ba81c', endColorstr='#379607', GradientType=0);
        }
        /* Add special button actiones */
        .btn-blue:disabled, .btn-green:disabled, .btn-red:disabled {
            background: lightgray;
            color: black !important;
            cursor: not-allowed;
        }
        .btn-blue:hover, .btn-green:hover, .btn-red:hover {
            color: white !important;
        }
        .btn-blue:active, .btn-green:active, .btn-red:active {
            position: relative;
            top: 1px;
        }

        /* Create four equal columns that floats next to each other */
        .column {
            float: left;
            width: 50%;
            padding: 5px;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Responsive layout - makes the two columns stack on top of each other instead of next to each other */
        @media screen and (max-width: 800px) {
            .column  {
                width: 100%;
            }
        }

        /* Responsive layout - for mobile in portrait (standard) position */        
        @media screen and (pointer: coarse) and (orientation:portrait) {
            .column  {
                width: 100%;
            }
            h1 {
                font-size: 64px;
            }
            table {
                font-size: 64px;
            }
            tr {
                height: 180px;
            }
            .trThin {
                height: 160px;
            }
            .btn-common  {
                font-size: 64px
            }
            .dropdown-light {
                font-size: 64px
            }
        }
        /* Responsive layout - makes the two columns stack on top of each other instead of next to each other */        
        @media screen and (pointer: coarse) and (orientation:landscape) {
            .column  {
                width: 50%;
            }
        }
    </style>
</head>
<body>
    {% if systemstatus == 1 %}
    <h1>Pool Controller - {{ airtemp }}&deg;F</h1>
    <div class="row">
        <div class="column">
            <table>
                <tr>
                    <td>
                        <form method="post">
                            <label>Pool Light: </label>
                            <select class="dropdown-light" name="poollightvalue" onchange="this.form.submit()">
                                {% for c in lights %}
                                    {% if poollightsetting == c.id %}
                                        <option value={{ c.id }} selected>{{ c.name }}</option>
                                    {% else %}
                                        <option value={{ c.id }}>{{ c.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </form>
                    </td>
                </tr>
            </table>
        </div>
        <div class="column">
            <table>
                <tr>
                    <td>
                        <form method="post">
                            {% if spalight == true %}
                                <button class="btn-common btn-green" type="submit" value="spalightoff" name="activate" style="width: 100%">Turn Spa Light Off</button>
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="spalighton" name="activate" style="width: 100%">Turn Spa Light On</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
            </table>
        </div>
        <div class="column">
            <table>
                <tr>
                    <td>
                        <form method="post">
                            {% if poolactive == true %}
                                <button class="btn-common btn-green" type="submit" value="pooloff" name="activate" style="width: 100%">Turn Pool Off - {{ pooltemp }}&deg;F</button>
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="poolon" name="activate" style="width: 100%">Turn Pool On - {{ pooltemp }}&deg;F</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
                <tr>
                    <td>
                        <table>
                            <tr class="trThin">
                                <td>
                                    <form method="post">
                                        {% if poolactive == true %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="decrease" name="temp" style="width: 100%">-</button>
                                        {% else %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="decrease" name="temp" style="width: 100%" disabled>-</button>
                                        {% endif %}
                                    </form>
                                </td>
                                <td>
                                    {{ poolsettemp }}&deg;F
                                </td>
                                <td>
                                    <form method="post">
                                        {% if poolactive == true %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="increase" name="temp" style="width: 100%">+</button>
                                        {% else %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="increase" name="temp" style="width: 100%" disabled>+</button>
                                        {% endif %}
                                    </form>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>
                        <form method="post">
                            {% if poolactive == true %}
                                {% if heatactive == 0 %}
                                    <button class="btn-common btn-blue" type="submit" value="heaton" name="activate" style="width: 100%">Turn Heater On</button>
                                {% elif heatactive == 1 %}
                                    <button class="btn-common btn-green" type="submit" value="heatoff" name="activate" style="width: 100%">Heater Idle</button>
                                {% else %}
                                    <button class="btn-common btn-red" type="submit" value="heatoff" name="activate" style="width: 100%">Heater Running</button>
                                {% endif %}
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="heaton" name="activate" style="width: 100%" disabled>Heater</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
                {% if debug != "" %}
                    <tr>
                        <td style="word-wrap: normal;">{{ debug }}</td>
                    </tr>
                {% endif %}
            </table>
        </div>
        <div class="column">    
            <table>
                <tr>
                    <td>
                        <form method="post">
                            {% if spaactive == true %}
                                <button class="btn-common btn-green" type="submit" value="spaoff" name="activate" style="width: 100%">Turn Spa Off - {{ spatemp }}&deg;F</button>
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="spaon" name="activate" style="width: 100%">Turn Spa On - {{ spatemp }}&deg;F</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
                <tr>
                    <td>
                        <table>
                            <tr class="trThin">
                                <td>
                                    <form method="post">
                                        {% if spaactive == true %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="decrease" name="temp" style="width: 100%">-</button>
                                        {% else %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="decrease" name="temp" style="width: 100%" disabled>-</button>
                                        {% endif %}
                                    </td>
                                    <td>
                                        {{ spasettemp }}&deg;F
                                    </td>
                                    <td>
                                        {% if spaactive == true %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="increase" name="temp" style="width: 100%">+</button>
                                        {% else %}
                                            <button class="btn-common btn-small btn-green" type="submit" value="increase" name="temp" style="width: 100%" disabled>+</button>
                                        {% endif %}
                                    </form>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>
                        <form method="post">
                            {% if spaactive == true %}
                                {% if heatactive == 0 %}
                                    <button class="btn-common btn-blue" type="submit" value="heaton" name="activate" style="width: 100%">Turn Heater On</button>
                                {% elif heatactive == 1 %}
                                    <button class="btn-common btn-green" type="submit" value="heatoff" name="activate" style="width: 100%">Heater Idle</button>
                                {% else %}
                                    <button class="btn-common btn-red" type="submit" value="heatoff" name="activate" style="width: 100%">Heater Running</button>
                                {% endif %}
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="heaton" name="activate" style="width: 100%" disabled>Heater</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
                <tr>
                    <td>
                        <form method="post">
                            {% if spaactive == true %}
                                {% if bloweractive == false %}
                                    <button class="btn-common btn-blue" type="submit" value="bloweron" name="activate" style="width: 100%">Turn Blower On</button>
                                {% else %}
                                    <button class="btn-common btn-green" type="submit" value="bloweroff" name="activate" style="width: 100%">Turn Blower Off</button>
                                {% endif %}
                            {% else %}
                                <button class="btn-common btn-blue" type="submit" value="bloweron" name="activate" style="width: 100%" disabled>Blower</button>
                            {% endif %}
                        </form>
                    </td>
                </tr>
            </table>
        </div>
    </div>    
    {% else %}
    <h1>Maintenance Mode Active</h1>
    <table>
        <tr>
            <td>
                {{ debug }}
            </td>
        </tr>
    </table>
    {% endif %}
</body>
</html>